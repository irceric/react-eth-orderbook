(this["webpackJsonpcrypto-order-book"]=this["webpackJsonpcrypto-order-book"]||[]).push([[0],{195:function(e,t,c){},227:function(e,t){},408:function(e,t,c){},409:function(e,t,c){"use strict";c.r(t);var s=c(2),r=c(1),o=c.n(r),n=c(53),i=c.n(n),a=(c(195),c(90)),j=c(152),l=c.n(j),b=function(e){var t=e.volumes,c=e.price,r=e.highlight,o=0,n=Object.keys(t).map((function(e,c){return o+=.1*t[e],Object(s.jsx)("td",{children:t[e]},c)}));return Object(s.jsxs)("tr",{className:r,children:[Object(s.jsx)("th",{scope:"row",children:c}),n,Object(s.jsx)("td",{children:o.toFixed(4)})]})},d=function(e){var t=e.orders,c=void 0===t?{}:t,r=(e.type,c&&Object.keys(c)[0]);if(!r)return Object(s.jsx)("div",{children:"Empty"});var o=c&&Object.keys(c[r].volumes).map((function(e,t){return Object(s.jsx)("th",{scope:"col",children:e},t)})),n=c&&Object.keys(c).map((function(e,t){return Object(s.jsx)(b,{price:e,volumes:c[e].volumes,highlight:c[e].highlight},t)}));return Object(s.jsxs)("table",{className:"table table-sm table-responsive-md",children:[Object(s.jsxs)("thead",{children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",className:"no-top-border"}),Object(s.jsx)("th",{className:"text-center",colSpan:12,scope:"col",children:"Volume"})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Price (BTC)"}),o,Object(s.jsx)("th",{scope:"col",children:"Total"})]})]}),Object(s.jsx)("tbody",{children:n})]})},O=function(e){var t=e.onClick;return Object(s.jsxs)("form",{children:[Object(s.jsx)("label",{children:" Select Market: "}),Object(s.jsx)("br",{}),Object(s.jsxs)("select",{className:"btn btn-light btn-lg",onChange:function(e){t(e.currentTarget.value)},"aria-label":"select market dropdown",children:[Object(s.jsx)("option",{value:"ETH",children:"BTC-ETH"}),Object(s.jsx)("option",{value:"DOGE",children:"BTC-DOGE"})]})]})},h=c(15),u=function(e){var t=e.orders,c=e.market,r=function(e){return+(Math.round(2e3*e)/2e3).toFixed(4)},o=[];if(t[0]&&"ETH"===c){for(var n=t[0],i=t[1],a=+r(+Object.keys(n).slice(-1)[0]),j=+Object.keys(i).slice(-1)[0],l={},b=a;b<=j+5e-4;)l[r(b)]={bid:0,ask:0},b=+r(b)+5e-4;Object.keys(n).forEach((function(e){var t=0,c=r(+e);Object.keys(n[e].volumes).forEach((function(c){t+=n[e].volumes[c]})),l[c].bid+=t})),Object.keys(i).forEach((function(e){var t=0,c=r(+e);Object.keys(i[e].volumes).forEach((function(c){t+=i[e].volumes[c]})),l[c].ask+=t})),o=Object.keys(l).map((function(e){return{price:+e,bid:l[e].bid,ask:l[e].ask}}))}else if(t[0]){var d=t[0];Object.keys(d).forEach((function(e){var t=0;Object.keys(d[e].volumes).forEach((function(c){t+=d[e].volumes[c]})),o.push({price:+e,bid:t})}));var O=t[1];Object.keys(O).forEach((function(e){var t=0;Object.keys(O[e].volumes).forEach((function(c){t+=O[e].volumes[c]})),o.push({price:+e,ask:t})})),o.sort((function(e,t){return e.price-t.price}))}return Object(s.jsxs)(h.b,{width:1e3,height:250,data:o,margin:{top:10,right:30,left:0,bottom:0},children:[Object(s.jsxs)("defs",{children:[Object(s.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(s.jsx)("stop",{offset:"5%",stopColor:"#F4442E",stopOpacity:.8}),Object(s.jsx)("stop",{offset:"95%",stopColor:"#F4442E",stopOpacity:.5})]}),Object(s.jsxs)("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(s.jsx)("stop",{offset:"5%",stopColor:"#99F7AB",stopOpacity:.8}),Object(s.jsx)("stop",{offset:"95%",stopColor:"#99F7AB",stopOpacity:.5})]})]}),Object(s.jsx)(h.f,{dataKey:"price",type:"number",allowDataOverflow:!0,domain:["dataMin","dataMax"]}),Object(s.jsx)(h.g,{allowDataOverflow:!0}),Object(s.jsx)(h.c,{strokeDasharray:"3 3"}),Object(s.jsx)(h.e,{}),Object(s.jsx)(h.d,{verticalAlign:"top",height:36}),Object(s.jsx)(h.a,{type:"monotone",dataKey:"bid",stroke:"#F4442E",fillOpacity:1,fill:"url(#colorUv)",connectNulls:!0}),Object(s.jsx)(h.a,{type:"monotone",dataKey:"ask",stroke:"#99F7AB",fillOpacity:1,fill:"url(#colorPv)",connectNulls:!0})]})};c(408);var x=function(){var e=o.a.useState({}),t=Object(a.a)(e,2),c=t[0],r=t[1],n=o.a.useState("ETH"),i=Object(a.a)(n,2),j=i[0],b=i[1];o.a.useEffect((function(){h("ETH")}),[]);var h=function(e){l()("https://ether-order-book.herokuapp.com",{query:"market=".concat(e)}).on("orders",(function(e){r(e)}))};return Object(s.jsxs)("div",{className:"container-fluid text-center",children:[Object(s.jsx)("br",{}),Object(s.jsx)("h3",{children:"Order Book Test Project"}),Object(s.jsx)("br",{}),Object(s.jsxs)("h4",{className:"blue-text",children:["BTC-",j," Market"]}),Object(s.jsx)("br",{}),Object(s.jsx)("h5",{children:Object(s.jsx)(O,{onClick:function(e){return function(e){h(e),b(e)}(e)}})}),Object(s.jsx)("div",{className:"col-md-10 offset-md-1 text-center",children:Object(s.jsx)(u,{orders:c,market:j})}),Object(s.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("h5",{className:"text-center font-italic bg-warning",children:"Highlighting Represents Overlapping Asks/Bids"}),Object(s.jsx)("br",{})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("h3",{className:"text-center",children:"Bids"}),Object(s.jsx)(d,{type:"bids",orders:c[0]})]}),Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("h3",{className:"text-center",children:"Asks"}),Object(s.jsx)(d,{type:"asks",orders:c[1]})]})]})]})},f=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,411)).then((function(t){var c=t.getCLS,s=t.getFID,r=t.getFCP,o=t.getLCP,n=t.getTTFB;c(e),s(e),r(e),o(e),n(e)}))};i.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),f()}},[[409,1,2]]]);
//# sourceMappingURL=main.dc9861b2.chunk.js.map